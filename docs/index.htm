<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="description" content="OD-360 – Broadband Forum YANG
Modules: A set of YANG modules for managing access networks" />
  <title>BBF – OD-360 – Broadband Forum YANG Modules</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="bbf.css" />
  <link rel="stylesheet" href="extra.css" />
  <link rel="stylesheet" href="release.css" />
  <link rel="stylesheet" href="toc.css" />
  <!-- Automatic hover links scripts -->
  <script>
  window.addEventListener('DOMContentLoaded', function() {
    var hoverlink = null;

    var elems = document.querySelectorAll('.auto-hoverlink:not(section)');
      for (var i = 0; i < elems.length; i++) {
        var elem = elems[i];

        elem.addEventListener('mouseenter', event => {
          var target = event.target;
          var info_attr = target.attributes.getNamedItem('data-info');
          var anchor_attr = target.attributes.getNamedItem('data-anchor');
          var thing = info_attr ? info_attr.value : target.localName
          /* we check the parent to cover the case where pandoc has moved the
             id from a header to its parent section */
          var anchor = target.id || target.parentElement.id ||
                                    (anchor_attr ? anchor_attr.value : null);

          if (hoverlink) {
            hoverlink.remove();
            hoverlink = null;
          }

          if (!anchor) {
              console.warn('%s %s has no id or data-anchor',
                           thing, target.textContent);
          } else {
            hoverlink = document.createElement('a');
            hoverlink.href = '#' + anchor;
            hoverlink.className = 'hoverlink';
            hoverlink.title = 'Permalink to this ' + thing;
            target.appendChild(hoverlink);
          }
        });

        elem.addEventListener('mouseleave', () => {
          if (hoverlink) {
            setTimeout(function(href) {
              if (hoverlink && hoverlink.href == href) {
                hoverlink.remove();
                hoverlink = null;
              }
            }, 1000, hoverlink.href);
          }
        });
      }
  });
  </script>
  <!-- Automatic hover links styles -->
  <style>
  :root {
      --hoverlink-gap: 0.2em;
      --hoverlink-size: 0.9em;
  }

  .hoverlink {
      text-decoration: none;
  }

  .hoverlink::after {
      position: absolute;
      display: inline-block;
      content: "";
      margin-left: var(--hoverlink-gap);
      width: var(--hoverlink-size);
      height: var(--hoverlink-size);
      background-size: var(--hoverlink-size) var(--hoverlink-size);
      /* https://icon-library.com/images/permalink-icon/permalink-icon-17.jpg
         (resized from 512x512 to 64x64) */
      background-image: url(permalink.png);
  }
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="main-content">
<header id="title-block-header">
<h1 class="title auto-hoverlink" id="title">OD-360 – Broadband Forum
YANG Modules</h1>
<p class="subtitle">Issue: 1 Amendment 3 <span
class="release"></span></p>
<p class="date">Issue Date: February 2026</p>
</header>
<nav id="SIDEBAR" role="doc-toc">
<ul>
<li><a href="#sec:references"
id="toc-sec:references">References</a></li>
<li><a href="#sec:overview" id="toc-sec:overview">Overview</a>
<ul>
<li><a href="#sec:yang-language-version"
id="toc-sec:yang-language-version">YANG Language Version</a></li>
</ul></li>
<li><a href="#sec:yang-guidelines" id="toc-sec:yang-guidelines">YANG
Guidelines</a>
<ul>
<li><a href="#sec:terminology"
id="toc-sec:terminology">Terminology</a></li>
<li><a href="#sec:template" id="toc-sec:template">Template</a></li>
<li><a href="#sec:ietf-yang-guidelines"
id="toc-sec:ietf-yang-guidelines">IETF YANG Guidelines</a>
<ul>
<li><a href="#sec:ietf-1-yang-terms"
id="toc-sec:ietf-1-yang-terms">IETF-1: YANG Terms</a></li>
<li><a href="#sec:ietf-2-yang-validation"
id="toc-sec:ietf-2-yang-validation">IETF-2: YANG Validation</a></li>
<li><a href="#sec:ietf-3-yang-usage-guidelines"
id="toc-sec:ietf-3-yang-usage-guidelines">IETF-3: YANG Usage
Guidelines</a></li>
<li><a href="#sec:ietf-4-file-layout"
id="toc-sec:ietf-4-file-layout">IETF-4: File Layout</a></li>
<li><a href="#sec:ietf-5-quoting" id="toc-sec:ietf-5-quoting">IETF-5:
Quoting</a></li>
<li><a href="#sec:ietf-6-module-naming-conventions"
id="toc-sec:ietf-6-module-naming-conventions">IETF-6: Module Naming
Conventions</a></li>
<li><a href="#sec:ietf-7-module-header-meta-and-revision-statements"
id="toc-sec:ietf-7-module-header-meta-and-revision-statements">IETF-7:
Module Header, Meta and Revision Statements</a></li>
<li><a
href="#sec:ietf-8-module-header-meta-and-revision-statements---top-level-description"
id="toc-sec:ietf-8-module-header-meta-and-revision-statements---top-level-description">IETF-8:
Module Header, Meta and Revision Statements - Top Level
Description</a></li>
<li><a href="#sec:ietf-9-namespace-assignments"
id="toc-sec:ietf-9-namespace-assignments">IETF-9: Namespace
Assignments</a></li>
<li><a href="#sec:ietf-10-prefixes---imported-modules"
id="toc-sec:ietf-10-prefixes---imported-modules">IETF-10: Prefixes -
Imported Modules</a></li>
<li><a href="#sec:ietf-11-prefixes---usage"
id="toc-sec:ietf-11-prefixes---usage">IETF-11: Prefixes - Usage</a></li>
<li><a href="#sec:ietf-12-identifier-naming-conventions"
id="toc-sec:ietf-12-identifier-naming-conventions">IETF-12: Identifier
Naming Conventions</a></li>
<li><a href="#sec:ietf-13-conditional-statements"
id="toc-sec:ietf-13-conditional-statements">IETF-13: Conditional
Statements</a></li>
<li><a href="#sec:ietf-14-conditional-augment-statements"
id="toc-sec:ietf-14-conditional-augment-statements">IETF-14: Conditional
Augment Statements</a></li>
<li><a href="#sec:ietf-15-import-or-include-by-revision"
id="toc-sec:ietf-15-import-or-include-by-revision">IETF-15: Import or
Include By Revision</a></li>
<li><a href="#sec:ietf-16-legal-characters-in-yang-modules"
id="toc-sec:ietf-16-legal-characters-in-yang-modules">IETF-16: Legal
Characters in YANG Modules</a></li>
<li><a href="#sec:ietf-17-prefix-on-belongs-to-statements"
id="toc-sec:ietf-17-prefix-on-belongs-to-statements">IETF-17: Prefix on
“belongs-to” Statements</a></li>
<li><a
href="#sec:ietf-18-error-message-sub-statement-to-the-must-statement"
id="toc-sec:ietf-18-error-message-sub-statement-to-the-must-statement">IETF-18:
‘error-message’ sub-statement to the ‘must’ statement</a></li>
<li><a
href="#sec:ietf-19-description-sub-statement-to-the-must-statement"
id="toc-sec:ietf-19-description-sub-statement-to-the-must-statement">IETF-19:
‘description’ sub-statement to the ‘must’ statement</a></li>
<li><a href="#sec:ietf-20-tabs-and-spacing"
id="toc-sec:ietf-20-tabs-and-spacing">IETF-20: Tabs and Spacing</a></li>
<li><a href="#sec:ietf-21-normative-language"
id="toc-sec:ietf-21-normative-language">IETF-21: Normative
Language</a></li>
<li><a href="#sec:ietf-22-leafref-path-in-a-grouping"
id="toc-sec:ietf-22-leafref-path-in-a-grouping">IETF-22: ‘leafref’ path
in a ‘grouping’</a></li>
<li><a href="#sec:ietf-23-prefix-naming-conventions"
id="toc-sec:ietf-23-prefix-naming-conventions">IETF-23: Prefix Naming
Conventions</a></li>
</ul></li>
<li><a href="#sec:bbf-yang-guidelines"
id="toc-sec:bbf-yang-guidelines">BBF YANG Guidelines</a>
<ul>
<li><a href="#sec:bbf-1-use-of-ianaietf-yang-modules"
id="toc-sec:bbf-1-use-of-ianaietf-yang-modules">BBF-1: Use of IANA/IETF
YANG Modules</a></li>
<li><a href="#sec:bbf-2-line-length"
id="toc-sec:bbf-2-line-length">BBF-2: Line Length</a></li>
<li><a href="#sec:bbf-3-deviations" id="toc-sec:bbf-3-deviations">BBF-3:
Deviations</a></li>
<li><a href="#sec:bbf-4-short-names"
id="toc-sec:bbf-4-short-names">BBF-4: Short Names</a></li>
<li><a href="#sec:bbf-5-descriptions-and-references"
id="toc-sec:bbf-5-descriptions-and-references">BBF-5: Descriptions and
References</a></li>
<li><a href="#sec:bbf-6-special-values"
id="toc-sec:bbf-6-special-values">BBF-6: Special Values</a></li>
<li><a href="#sec:bbf-7-paragraph-separation-in-description-statements"
id="toc-sec:bbf-7-paragraph-separation-in-description-statements">BBF-7:
Paragraph Separation in Description Statements</a></li>
<li><a href="#sec:bbf-8-revision-statements"
id="toc-sec:bbf-8-revision-statements">BBF-8: Revision
Statements</a></li>
<li><a href="#sec:bbf-9-explicit-modeling"
id="toc-sec:bbf-9-explicit-modeling">BBF-9: Explicit Modeling</a></li>
<li><a href="#sec:bbf-10-retroactive-application-of-od-360-guidelines"
id="toc-sec:bbf-10-retroactive-application-of-od-360-guidelines">BBF-10:
Retroactive Application of OD-360 Guidelines</a></li>
<li><a href="#sec:bbf-11-multi-word-identifiers"
id="toc-sec:bbf-11-multi-word-identifiers">BBF-11: Multi-word
Identifiers</a></li>
<li><a href="#sec:bbf-12-acronyms-in-description-statements"
id="toc-sec:bbf-12-acronyms-in-description-statements">BBF-12: Acronyms
in Description Statements</a></li>
<li><a href="#sec:bbf-13-abbreviations-in-description-statements"
id="toc-sec:bbf-13-abbreviations-in-description-statements">BBF-13:
Abbreviations in Description Statements</a></li>
<li><a href="#sec:bbf-14-creating-andor-extending-bbf-yang-models"
id="toc-sec:bbf-14-creating-andor-extending-bbf-yang-models">BBF-14:
Creating and/or Extending BBF YANG Models</a></li>
<li><a href="#sec:bbf-15-yang-model-revisions-and-license"
id="toc-sec:bbf-15-yang-model-revisions-and-license">BBF-15: YANG Model
Revisions and License</a></li>
<li><a href="#sec:bbf-16-enum-naming"
id="toc-sec:bbf-16-enum-naming">BBF-16: Enum Naming</a></li>
<li><a href="#sec:bbf-17-value-statements"
id="toc-sec:bbf-17-value-statements">BBF-17: Value Statements</a></li>
<li><a href="#sec:bbf-18-prefix-on-if-feature-statements"
id="toc-sec:bbf-18-prefix-on-if-feature-statements">BBF-18: Prefix on
‘if-feature’ Statements</a></li>
<li><a
href="#sec:bbf-19-default-case-of-a-choice-statement---empty-typed-leaf"
id="toc-sec:bbf-19-default-case-of-a-choice-statement---empty-typed-leaf">BBF-19:
Default Case of a Choice Statement - Empty Typed Leaf</a></li>
<li><a href="#sec:bbf-20-formatting-error-string-statements"
id="toc-sec:bbf-20-formatting-error-string-statements">BBF-20:
Formatting ‘error-string’ statements</a></li>
<li><a href="#sec:bbf-21-deprecating-and-obsoleting-data-nodes"
id="toc-sec:bbf-21-deprecating-and-obsoleting-data-nodes">BBF-21:
Deprecating and Obsoleting Data Nodes</a></li>
<li><a href="#sec:bbf-22-backwards-compatibility"
id="toc-sec:bbf-22-backwards-compatibility">BBF-22: Backwards
Compatibility</a></li>
<li><a href="#sec:bbf-23-enable-vs.-enabled"
id="toc-sec:bbf-23-enable-vs.-enabled">BBF-23: “enable”
vs. “enabled”</a></li>
<li><a href="#sec:bbf-24-oper-state-vs.-oper-status"
id="toc-sec:bbf-24-oper-state-vs.-oper-status">BBF-24: “oper-state”
vs. “oper-status”</a></li>
<li><a href="#sec:bbf-25-reference-statements"
id="toc-sec:bbf-25-reference-statements">BBF-25: Reference
Statements</a></li>
<li><a href="#sec:bbf-26-body-statements"
id="toc-sec:bbf-26-body-statements">BBF-26: Body Statements</a></li>
<li><a href="#sec:bbf-27-list-and-leaf-list-naming-and-descriptions"
id="toc-sec:bbf-27-list-and-leaf-list-naming-and-descriptions">BBF-27:
‘list’ and ‘leaf-list’ Naming and Descriptions</a></li>
<li><a href="#sec:bbf-28-description-on-when-statements"
id="toc-sec:bbf-28-description-on-when-statements">BBF-28: Description
on ‘when’ statements</a></li>
<li><a href="#sec:bbf-29-use-of-english-contractions"
id="toc-sec:bbf-29-use-of-english-contractions">BBF-29: Use of English
Contractions</a></li>
<li><a href="#sec:bbf-30-use-of-presence-statements"
id="toc-sec:bbf-30-use-of-presence-statements">BBF-30: Use of Presence
statements</a></li>
<li><a
href="#sec:bbf-31-formatting-xpath-expression-arguments-of-yang-statements"
id="toc-sec:bbf-31-formatting-xpath-expression-arguments-of-yang-statements">BBF-31:
Formatting XPath expression arguments of YANG statements</a></li>
<li><a href="#sec:bbf-32-naming-choices"
id="toc-sec:bbf-32-naming-choices">BBF-32: Naming choices</a></li>
<li><a
href="#sec:bbf-33-mapping-of-alarm-type-identifiers-to-itu-t-x.733-and-itu-t-x.736-event-types"
id="toc-sec:bbf-33-mapping-of-alarm-type-identifiers-to-itu-t-x.733-and-itu-t-x.736-event-types">BBF-33:
Mapping of alarm type identifiers to ITU-T X.733 and ITU-T X.736 event
types</a></li>
</ul></li>
<li><a href="#sec:bbf-deviation-guidelines"
id="toc-sec:bbf-deviation-guidelines">BBF Deviation Guidelines</a>
<ul>
<li><a href="#sec:types-of-deviations"
id="toc-sec:types-of-deviations">Types of Deviations</a></li>
<li><a href="#sec:dev-1-not-supported"
id="toc-sec:dev-1-not-supported">DEV-1: not-supported</a></li>
<li><a href="#sec:dev-2-add---number-of-elements"
id="toc-sec:dev-2-add---number-of-elements">DEV-2: add - Number of
Elements</a></li>
<li><a href="#sec:dev-3-add---must-constraints"
id="toc-sec:dev-3-add---must-constraints">DEV-3: add - ‘must’
Constraints</a></li>
<li><a href="#sec:dev-4-replace---data-type"
id="toc-sec:dev-4-replace---data-type">DEV-4: replace - Data
Type</a></li>
<li><a href="#sec:dev-5-replace---number-of-elements"
id="toc-sec:dev-5-replace---number-of-elements">DEV-5: replace - Number
of Elements</a></li>
<li><a href="#sec:dev-6-delete" id="toc-sec:dev-6-delete">DEV-6:
delete</a></li>
<li><a href="#sec:dev-7-add---mandatory-leaf"
id="toc-sec:dev-7-add---mandatory-leaf">DEV-7: add - Mandatory
leaf</a></li>
</ul></li>
<li><a href="#sec:bbf-guidelines-for-units-statements"
id="toc-sec:bbf-guidelines-for-units-statements">BBF Guidelines for
‘units’ Statements</a>
<ul>
<li><a href="#sec:terminology-1"
id="toc-sec:terminology-1">Terminology</a></li>
<li><a href="#sec:units-1-unit-vs-symbol"
id="toc-sec:units-1-unit-vs-symbol">UNITS-1: Unit vs Symbol</a></li>
<li><a href="#sec:units-2-plural-form"
id="toc-sec:units-2-plural-form">UNITS-2: Plural Form</a></li>
<li><a href="#sec:units-3-base-vs-derived"
id="toc-sec:units-3-base-vs-derived">UNITS-3: Base vs Derived</a></li>
<li><a href="#sec:units-4-memory" id="toc-sec:units-4-memory">UNITS-4:
Memory</a></li>
<li><a href="#sec:units-5-unit-combinations"
id="toc-sec:units-5-unit-combinations">UNITS-5: Unit
Combinations</a></li>
<li><a href="#sec:units-6-equivalent-units"
id="toc-sec:units-6-equivalent-units">UNITS-6: Equivalent Units</a></li>
<li><a href="#sec:units-7-use-of-decimal64"
id="toc-sec:units-7-use-of-decimal64">UNITS-7: Use of decimal64</a></li>
<li><a href="#sec:units-8-exceptions"
id="toc-sec:units-8-exceptions">UNITS-8: Exceptions</a></li>
<li><a href="#sec:units-9-frames-vs-packets-vs-messages"
id="toc-sec:units-9-frames-vs-packets-vs-messages">UNITS-9: Frames vs
Packets vs Messages</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h3 class="unnumbered unlisted auto-hoverlink" data-info="header"
id="list-of-figures">List of Figures</h3>
<ol>
</ol>
<h3 class="unnumbered unlisted auto-hoverlink" data-info="header"
id="list-of-tables">List of Tables</h3>
<ol>
</ol>
<!-- do not edit! this file was created from PROJECT.yaml by project-parser.py -->
<div class="new-page">

</div>
<h3 class="unnumbered unlisted auto-hoverlink" data-info="header"
id="sec:issue-history">Issue History</h3>
<table class="issue-history" style="width:100%;">
<colgroup>
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr>
<th style="text-align: left;">Issue Number</th>
<th style="text-align: left;">Approval Date</th>
<th style="text-align: left;">Issue Editor</th>
<th style="text-align: left;">Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a
href="https://www.broadband-forum.org/download/OD-360_Issue-1.pdf">Issue
1</a></td>
<td style="text-align: left;">February 2022</td>
<td style="text-align: left;"><ul>
<li>Joey Boyd, Adtran</li>
</ul></td>
<td style="text-align: left;"><ul>
<li>Initial version</li>
</ul></td>
</tr>
<tr>
<td style="text-align: left;"><a
href="https://www.broadband-forum.org/download/OD-360_Amendment-1.pdf">Amendment
1</a></td>
<td style="text-align: left;">March 2023</td>
<td style="text-align: left;"><ul>
<li>Joey Boyd, Adtran</li>
</ul></td>
<td style="text-align: left;"><ul>
<li>Add ‘units’ statement guidelines</li>
</ul></td>
</tr>
<tr>
<td style="text-align: left;"><a
href="https://www.broadband-forum.org/download/OD-360_Amendment-2.pdf">Amendment
2</a></td>
<td style="text-align: left;">January 2024</td>
<td style="text-align: left;"><ul>
<li>Joey Boyd, Adtran</li>
</ul></td>
<td style="text-align: left;"><ul>
<li>Add new IETF guidelines IETF-21 and IETF-22.</li>
<li>Add new BBF guidelines BBF-21 through BBF-29.</li>
<li>Address minor corrections to existing guidelines.</li>
</ul></td>
</tr>
<tr>
<td style="text-align: left;"><a
href="https://www.broadband-forum.org/download/OD-360_Amendment-3.pdf">Amendment
3</a></td>
<td style="text-align: left;">February 2026</td>
<td style="text-align: left;"><ul>
<li>Joey Boyd, Adtran</li>
<li>Sven Ooghe, Nokia</li>
</ul></td>
<td style="text-align: left;"><ul>
<li>Add new IETF guideline IETF-23.</li>
<li>Add new BBF guidelines BBF-30 through BBF-33.</li>
<li>Add new deviation guideline DEV-7.</li>
<li>Address minor corrections to existing guidelines.</li>
</ul></td>
</tr>
</tbody>
</table>
<p>Comments or questions about this Broadband Forum should be directed
to <a href="mailto:info@broadband-forum.org"
class="email">info@broadband-forum.org</a>.</p>
<h3 class="unnumbered unlisted auto-hoverlink" data-info="header"
id="sec:editors">Editors</h3>
<ul>
<li>Joey Boyd, Adtran</li>
<li>Sven Ooghe, Nokia</li>
</ul>
<h3 class="unnumbered unlisted new-page auto-hoverlink"
data-info="header" id="sec:notice">Notice</h3>
<p>The Broadband Forum is a non-profit corporation organized to create
guidelines for broadband network system development and deployment.
These Guidelines have been approved by members of the Forum. These
Guidelines are subject to change. These Guidelines are owned and
copyrighted by the Broadband Forum, and all rights are reserved.
Portions of these Guidelines may be owned and/or copyrighted by
Broadband Forum members.</p>
<h3 class="unnumbered unlisted auto-hoverlink" data-info="header"
id="sec:intellectual-property">Intellectual Property</h3>
<p>Recipients of these Guidelines are requested to submit, with their
comments, notification of any relevant patent claims or other
intellectual property rights of which they may be aware that might be
infringed by any implementation of these Guidelines, or use of any
software code normatively referenced in these Guidelines, and to provide
supporting documentation.</p>
<h3 class="unnumbered unlisted auto-hoverlink" data-info="header"
id="sec:terms-of-use">Terms of Use</h3>
<p><strong>1. License</strong></p>
<p>Broadband Forum hereby grants you the right, without charge, on a
perpetual, non-exclusive and worldwide basis, to utilize the Guidelines
for the purpose of developing, making, having made, using, marketing,
importing, offering to sell or license, and selling or licensing, and to
otherwise distribute, products complying with the Guidelines, in all
cases subject to the conditions set forth in this notice and any
relevant patent and other intellectual property rights of third parties
(which may include members of Broadband Forum). This license grant does
not include the right to sublicense, modify or create derivative works
based upon the Guidelines except to the extent these Guidelines include
text implementable in computer code, in which case your right under this
License to create and modify derivative works is limited to modifying
and creating derivative works of such code. For the avoidance of doubt,
except as qualified by the preceding sentence, products implementing
these Guidelines are not deemed to be derivative works of the
Guidelines.</p>
<p><strong>2. NO WARRANTIES</strong></p>
<p>THESE GUIDELINES ARE BEING OFFERED WITHOUT ANY WARRANTY WHATSOEVER,
AND IN PARTICULAR, ANY WARRANTY OF NONINFRINGEMENT AND ANY IMPLIED
WARRANTIES ARE EXPRESSLY DISCLAIMED. ANY USE OF THESE GUIDELINES SHALL
BE MADE ENTIRELY AT THE USER’S OR IMPLEMENTER’S OWN RISK, AND NEITHER
THE BROADBAND FORUM, NOR ANY OF ITS MEMBERS OR SUBMITTERS, SHALL HAVE
ANY LIABILITY WHATSOEVER TO ANY USER, IMPLEMENTER, OR THIRD PARTY FOR
ANY DAMAGES OF ANY NATURE WHATSOEVER, DIRECTLY OR INDIRECTLY, ARISING
FROM THE USE OF THESE GUIDELINES, INCLUDING BUT NOT LIMITED TO, ANY
CONSEQUENTIAL, SPECIAL, PUNITIVE, INCIDENTAL, AND INDIRECT DAMAGES.</p>
<p><strong>3. THIRD PARTY RIGHTS</strong></p>
<p>Without limiting the generality of Section 2 above, BROADBAND FORUM
ASSUMES NO RESPONSIBILITY TO COMPILE, CONFIRM, UPDATE OR MAKE PUBLIC ANY
THIRD PARTY ASSERTIONS OF PATENT OR OTHER INTELLECTUAL PROPERTY RIGHTS
THAT MIGHT NOW OR IN THE FUTURE BE INFRINGED BY AN IMPLEMENTATION OF THE
GUIDELINES IN ITS CURRENT, OR IN ANY FUTURE FORM. IF ANY SUCH RIGHTS ARE
DESCRIBED ON THE GUIDELINES, BROADBAND FORUM TAKES NO POSITION AS TO THE
VALIDITY OR INVALIDITY OF SUCH ASSERTIONS, OR THAT ALL SUCH ASSERTIONS
THAT HAVE OR MAY BE MADE ARE SO LISTED.</p>
<p>All copies of these Guidelines (or any portion hereof) must include
the notices, legends, and other provisions set forth on this page.</p>
<h1 class="auto-hoverlink" data-info="header"
id="sec:references">References</h1>
<div id="refs" class="references csl-bib-body" data-entry-spacing="0"
role="list">
<div id="ref-TR-383" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div
class="csl-right-inline">TR-383 Amendment 8, <em><a
href="https://www.broadband-forum.org/download/TR-383_Amendment-8.pdf">Common
YANG Modules for Access Networks</a></em>, Broadband Forum, 2024</div>
</div>
<div id="ref-RFC2119" class="csl-entry" role="listitem">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">RFC
2119, <em><a href="https://www.rfc-editor.org/rfc/rfc2119.html">Key
words for use in <span>RFCs</span> to <span>Indicate</span>
<span>Requirement</span> <span>Levels</span></a></em>, IETF, 1997</div>
</div>
<div id="ref-RFC7223" class="csl-entry" role="listitem">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">RFC
7223, <em><a href="https://www.rfc-editor.org/rfc/rfc7223.html">A
<span>YANG</span> <span>Data</span> <span>Model</span> for
<span>Interface</span> <span>Management</span></a></em>, IETF,
2014</div>
</div>
<div id="ref-RFC7950" class="csl-entry" role="listitem">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline">RFC
7950, <em><a href="https://www.rfc-editor.org/rfc/rfc7950.html">The
<span>YANG</span> 1.1 <span>Data</span> <span>Modeling</span>
<span>Language</span></a></em>, IETF, 2016</div>
</div>
<div id="ref-RFC8174" class="csl-entry" role="listitem">
<div class="csl-left-margin">[5] </div><div class="csl-right-inline">RFC
8174, <em><a
href="https://www.rfc-editor.org/rfc/rfc8174.html">Ambiguity of
<span>Uppercase</span> vs <span>Lowercase</span> in <span>RFC</span>
2119 <span>Key</span> <span>Words</span></a></em>, IETF, 2017</div>
</div>
<div id="ref-RFC8407" class="csl-entry" role="listitem">
<div class="csl-left-margin">[6] </div><div class="csl-right-inline">RFC
8407, <em><a
href="https://www.rfc-editor.org/rfc/rfc8407.html">Guidelines for
<span>Authors</span> and <span>Reviewers</span> of
<span>Documents</span> <span>Containing</span> <span>YANG</span>
<span>Data</span> <span>Models</span></a></em>, IETF, 2018</div>
</div>
<div id="ref-RFC8632" class="csl-entry" role="listitem">
<div class="csl-left-margin">[7] </div><div class="csl-right-inline">RFC
8632, <em><a href="https://www.rfc-editor.org/rfc/rfc8632.html">A
<span>YANG</span> <span>Data</span> <span>Model</span> for
<span>Alarm</span> <span>Management</span></a></em>, IETF, 2019</div>
</div>
<div id="ref-X.733" class="csl-entry" role="listitem">
<div class="csl-left-margin">[8] </div><div
class="csl-right-inline">X.733, <em><a
href="https://www.itu.int/rec/T-REC-X.733/en">Information technology -
<span>Open</span> <span>Systems</span> <span>Interconnection</span> -
<span>Systems</span> <span>Management:</span> <span>Alarm</span>
reporting function</a></em>, ITU-T, 1992</div>
</div>
<div id="ref-X.736" class="csl-entry" role="listitem">
<div class="csl-left-margin">[9] </div><div
class="csl-right-inline">X.736, <em><a
href="https://www.itu.int/rec/T-REC-X.736/en">Information technology -
<span>Open</span> <span>Systems</span> <span>Interconnection</span> -
<span>Systems</span> <span>Management:</span> <span>Security</span>
alarm reporting function</a></em>, ITU-T, 1992</div>
</div>
</div>
<h1 class="auto-hoverlink" data-info="header"
id="sec:overview">Overview</h1>
<p>OD-360 provides a set of Best Current Practices for development of
YANG Data Models in the Broadband Forum (BBF). The approach taken in
establishing a set of best current practices is to utilize existing
practices where those are relevant to the work of the Forum. The
guidelines put forth by this document not only provide guidance for
authors of BBF YANG models but are also enforced prior to YANG model
publication to ensure a high level of quality and consistency across BBF
projects.</p>
<h2 class="auto-hoverlink" data-info="header"
id="sec:yang-language-version">YANG Language Version</h2>
<p>The BBF has adopted YANG 1.1 <span class="citation"
data-cites="RFC7950"><a href="#ref-RFC7950"
role="doc-biblioref">[4]</a></span> for use in all BBF YANG Data
Models.</p>
<h1 class="auto-hoverlink" data-info="header"
id="sec:yang-guidelines">YANG Guidelines</h1>
<p>These YANG guidelines are organized as follows:</p>
<ul>
<li>Those based on IETF YANG Guidelines</li>
<li>Additional BBF-specific guidelines</li>
</ul>
<h2 class="auto-hoverlink" data-info="header"
id="sec:terminology">Terminology</h2>
<p>Throughout these guidelines, the term module can be used as a generic
term for a YANG module or submodule. When describing properties that are
specific to submodules, the term submodule is used instead.</p>
<h2 class="auto-hoverlink" data-info="header"
id="sec:template">Template</h2>
<p>New YANG modules MAY be created from the BBF template as shown here:
<a
href="https://wiki.broadband-forum.org/display/BBF/OD-360%3A+YANG+Module+Template">bbf-template.yang</a>.
This template is based on the IETF YANG module template defined in the
IETF YANG Guidelines.</p>
<h2 class="new-page auto-hoverlink" data-info="header"
id="sec:ietf-yang-guidelines">IETF YANG Guidelines</h2>
<p>The general principle is that the IETF YANG Guidelines, defined in
RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>, <strong>apply
in their entirety to BBF YANG modules</strong>. However, they are aimed
at IETF Standards Track YANG modules and contain some IETF specific
guidelines that cannot be applied literally to BBF YANG modules.</p>
<ul>
<li><p>Sections 1 (Introduction), 2 (Terminology) and 3 (General
Documentation Guidelines) are mostly IETF-specific and have little
impact on YANG module definitions. These sections do not apply unless
specifically noted.</p></li>
<li><p>Section 4 (YANG Usage Guidelines) is mostly IETF-independent and
has major impact on YANG module definitions. This section applies unless
specifically noted.</p></li>
<li><p>Sections 5 (IANA Considerations), 6 (Security Considerations), 7
(Acknowledgements), 8 (References) and Appendices A (Module Review
Checklist) and B (YANG Module Template) are mostly IETF-specific and
have little impact on YANG module definitions. These sections do not
apply unless specifically noted.</p></li>
</ul>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-1-yang-terms">IETF-1: YANG Terms</h3>
<p><em>This guideline extends section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-2.2">2.2</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>BBF YANG modules MUST use YANG terminology, e.g., when used in
descriptions the terms SHOULD refer to “data nodes”, “containers”,
“lists”, etc. For example, do not use the term “objects” and instead
refer to “data nodes”.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-2-yang-validation">IETF-2: YANG Validation</h3>
<p><em>This guideline overrides section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-3.10">3.10</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>BBF YANG modules MUST be validated using pyang 2.3.2 (or later).
Validation MUST use the various “lint” options described below.</p>
<pre><code>  --lint
  --lint-modulename-prefix=bbf
  --lint-namespace-prefix=urn:bbf:yang:
  --max-line-len=70</code></pre>
<p>Alternatively, pyang provides the following BBF-specific option that
performs the same checks as the options noted above.</p>
<pre><code>  --bbf</code></pre>
<p>pyang can be installed via <a href="https://pypi.org/">PyPi</a>.</p>
<p>The GitHub version of the pyang tool is available at <a
href="https://github.com/mbj4668/pyang">https://github.com/mbj4668/pyang</a></p>
<p>There is a docker image available that contains an installation of
pyang, yanglint and yanger. This image may, at times, include a newer
version of pyang than is stated in this guideline. <a
href="https://hub.docker.com/r/broadbandforum/yangtools">https://hub.docker.com/r/broadbandforum/yangtools</a></p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-3-yang-usage-guidelines">IETF-3: YANG Usage Guidelines</h3>
<p><em>This guideline restates section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4">4</a> of
RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span> in the context
of the BBF.</em></p>
<p>BBF YANG modules MUST comply with all syntactic and semantic
requirements of YANG 1.1 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-4-file-layout">IETF-4: File Layout</h3>
<p><em>This guideline overrides section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-5.2">5.2</a>
of RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</em></p>
<p>Each BBF YANG module or submodule MUST be stored within a BBF YANG
repository in a file called &lt;module-name&gt;.yang or
&lt;submodule-name&gt;.yang without revision-date in the name.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-5-quoting">IETF-5: Quoting</h3>
<p><em>This guideline is an extension to section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-6.1.3">6.1.3</a>
of RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</em></p>
<p>The rules specified in this section effectively mean that the second
and subsequent lines of multi-line strings have to be aligned under the
character following the opening double quote.</p>
<pre><code>  leaf multi-line-example {
    type string;
    description
      &quot;This is the first line of a multi-line string.
       This is the alignment of the second and subsequent lines.&quot;;
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-6-module-naming-conventions">IETF-6: Module Naming
Conventions</h3>
<p><em>This guideline overrides section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.1">4.1</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>&lt;module-name&gt; or &lt;submodule-name&gt; is the module name or
submodule name, which (see below) MUST begin with the prefix “bbf-”.</p>
<p>The remainder of the section applies with appropriate translations of
IETF terms to BBF terms, e.g., “IETF” and “IANA” are read as “BBF”, and
the “ietf-” prefix is read as “bbf-”.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-7-module-header-meta-and-revision-statements">IETF-7:
Module Header, Meta and Revision Statements</h3>
<p><em>These guidelines override section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.8">4.8</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<h4 class="auto-hoverlink" data-info="header"
id="sec:namespace">namespace</h4>
<p>See IETF-9.</p>
<h4 class="auto-hoverlink" data-info="header"
id="sec:organization">organization</h4>
<p>MUST be of the form:</p>
<pre><code>  Broadband Forum &lt;https://www.broadband-forum.org&gt;
  &lt;work area name&gt; Work Area&quot;;</code></pre>
<p>or</p>
<pre><code>  Broadband Forum &lt;https://www.broadband-forum.org&gt;
  &lt;project stream name&gt; Project Stream&quot;;</code></pre>
<h4 class="auto-hoverlink" data-info="header"
id="sec:contact">contact</h4>
<p>MUST use the following text:</p>
<pre><code>  Comments or questions about this Broadband Forum YANG module
  should be directed to &lt;mailto:info@broadband-forum.org&gt;.</code></pre>
<p>Followed by:</p>
<ul>
<li>Editor name(s) and affiliation(s)</li>
<li>Project Stream Leader name(s) and affiliation(s) - omit if no
Project Stream Leader</li>
<li>Work Area Director name(s) and affiliation(s)</li>
</ul>
<pre><code>  Editor:      &lt;name&gt;, &lt;company&gt;

  Editor:      &lt;name&gt;, &lt;company&gt;

  PS Leader:   &lt;name&gt;, &lt;company&gt;

  PS Leader:   &lt;name&gt;, &lt;company&gt;

  WA Director: &lt;name&gt;, &lt;company&gt;

  WA Director: &lt;name&gt;, &lt;company&gt;</code></pre>
<h4 class="auto-hoverlink" data-info="header"
id="sec:description">description</h4>
<p>See IETF-8.</p>
<h4 class="auto-hoverlink" data-info="header"
id="sec:revision">revision</h4>
<p>The guidelines from RFC 8407 apply with the following
modifications:</p>
<ul>
<li>The guidelines relating to the reference substatement are replaced
with a guideline to reference the associated TR Issue, Amendment (if
any) and Corrigendum.</li>
<li>The guidelines relating to reuse of the same revision statement
within unpublished versions are reworded to refer only to “versions” and
not to “Internet-Drafts”.</li>
</ul>
<p>References to associated TRs use “abbreviated” TR names, e.g.,
“TR-101i2” or “TR-383a6”.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-8-module-header-meta-and-revision-statements---top-level-description">IETF-8:
Module Header, Meta and Revision Statements - Top Level Description</h3>
<p><em>This guideline overrides section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.8">4.8</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>The top-level description MUST contain the following:</p>
<ul>
<li>Summary</li>
<li>BBF Notice Section</li>
</ul>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-9-namespace-assignments">IETF-9: Namespace Assignments</h3>
<p><em>This guideline overrides section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.9">4.9</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>Section 4.9 applies with appropriate translations of IETF terms to
BBF terms, e.g., “IANA” is read as “BBF” and “non-Standards-Track” is
read as “example” or “not-for-publication”.</p>
<p>BBF YANG module namespace MUST be of the form:</p>
<pre><code>  urn:bbf:yang:&lt;module-name&gt;</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-10-prefixes---imported-modules">IETF-10: Prefixes -
Imported Modules</h3>
<p><em>This guideline extends section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.2">4.2</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>Imported modules MUST have the same prefix defined in the module they
are imported into as is defined in the imported module.</p>
<p>Example:</p>
<pre><code>  module bbf-example1 {
    namespace &quot;urn:bbf:yang:bbf-example1&quot;;
    prefix bbf-ex1;
    ...</code></pre>
<pre><code>  module bbf-example2 {
    namespace &quot;urn:bbf:yang:bbf-example2&quot;;
    prefix bbf-ex2;

    import bbf-example1 {
      prefix bbf-ex1;  //same prefix as defined in the module, bbf-example1.
    }
    ...</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-11-prefixes---usage">IETF-11: Prefixes - Usage</h3>
<p><em>These guidelines restate section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.2">4.2</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>The following apply to prefix usage of the local module:</p>
<ul>
<li>The local module prefix SHOULD be used instead of no prefix in all
path expressions where the prefix is optional per section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-5.1">5.1</a>
of RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</li>
<li>The local module prefix MUST be used instead of no prefix in all
default statements for an identityref or instance-identifier data
type.</li>
<li>The local module prefix MAY be used for references to typedefs,
groupings, extensions, features and identities defined in the
module.</li>
</ul>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-12-identifier-naming-conventions">IETF-12: Identifier
Naming Conventions</h3>
<p><em>The following extends section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.3.1">4.3.1</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>These guidelines are stronger than the IETF guidelines because they
do not allow upper-case characters and the underscore character:</p>
<ul>
<li>Only lower-case letters, numbers, dashes “-” and dots “.” MUST be
used in identifier names.</li>
<li>Identifiers SHOULD include complete words and/or well-known acronyms
or abbreviations. There are some exceptions to this for performance
reasons. See BBF-5 for further guidelines.</li>
</ul>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-13-conditional-statements">IETF-13: Conditional
Statements</h3>
<p><em>The following reiterates section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.5">4.5</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>As stated, conditional requirements for data nodes must be documented
somewhere. Where possible, use YANG modeled constraints such as an
‘if-feature’ to make nodes explicitly optional or a ‘when’ statement to
constrain data based on other data nodes. At a minimum, the description
should be used to convey a constraint which cannot be modeled.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-14-conditional-augment-statements">IETF-14: Conditional
Augment Statements</h3>
<p><em>The following reiterates section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.19.1">4.19.1</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>Section 4.19.1 states that the augment statement is often used
together with the ‘when’ statement and/or ‘if-feature’ statement to make
the augmentation conditional on some portion of the data model.</p>
<p>Where possible, all BBF YANG models SHOULD apply ‘when’ and/or
‘if-feature’ statements to each augment.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-15-import-or-include-by-revision">IETF-15: Import or
Include By Revision</h3>
<p><em>The following replaces statements in section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.7">4.7</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span> regarding the
use of the ‘revision-date’ substatement.</em></p>
<p>BBF YANG modules MUST NOT use ‘revision-date’ on import and include
statements.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-16-legal-characters-in-yang-modules">IETF-16: Legal
Characters in YANG Modules</h3>
<p><em>The following replaces portions of section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-6">6</a> of
RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</em></p>
<p>BBF YANG modules MUST be written using only printable ASCII
characters.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-17-prefix-on-belongs-to-statements">IETF-17: Prefix on
“belongs-to” Statements</h3>
<p><em>The following extends section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.2">4.2</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>In a submodule, the prefix defined for the parent module in the
‘belongs-to’ statement MUST match the prefix defined in the parent
module for itself.</p>
<pre><code>  module bbf-example1 {
    namespace &quot;urn:bbf:yang:bbf-example1;
    prefix bbf-ex1;

    include bbf-example1-sub1;
    ...</code></pre>
<pre><code>  submodule bbf-example1-sub1 {
    belongs-to bbf-example1;
      prefix bbf-ex1;
    }
    ...</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-18-error-message-sub-statement-to-the-must-statement">IETF-18:
‘error-message’ sub-statement to the ‘must’ statement</h3>
<p><em>This guideline overrides section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-7.5.4.1">7.5.4.1</a>
of RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</em></p>
<p>The ‘error-message’ sub-statement MUST be provided to ‘must’
statements in configuration data nodes for proper communication of the
constraint validation failure.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-19-description-sub-statement-to-the-must-statement">IETF-19:
‘description’ sub-statement to the ‘must’ statement</h3>
<p><em>This guideline overrides section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-7.5.4">7.5.4</a>
of RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</em></p>
<p>Not everyone reading a YANG model is an expert in YANG and/or XPath.
In order to provide assistence in understanding the intent, all ‘must’
statements SHALL contain a description statement. This description
should convey the intent of the ‘must’ condition in easy to understand
language.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-20-tabs-and-spacing">IETF-20: Tabs and Spacing</h3>
<p><em>This guideline is an extension to section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-6.1.3">6.1.3</a>
of RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</em></p>
<p>BBF YANG modules MUST NOT contain any tab characters and MUST use 2
space characters for indentation.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-21-normative-language">IETF-21: Normative Language</h3>
<p><em>This guideline clarifies section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-3.6">3.6</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>BBF YANG modules SHALL NOT use normative keywords in their
description statements as defined in RFC 2119 <span class="citation"
data-cites="RFC2119"><a href="#ref-RFC2119"
role="doc-biblioref">[2]</a></span> and clarified in RFC 8174 <span
class="citation" data-cites="RFC8174"><a href="#ref-RFC8174"
role="doc-biblioref">[5]</a></span>. Explicitly, this means avoiding the
use of the keywords in all capital letters, e.g., MUST, SHOULD, SHALL,
etc.</p>
<p>This does not apply to the license text included as part of each
top-level module description.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-22-leafref-path-in-a-grouping">IETF-22: ‘leafref’ path in a
‘grouping’</h3>
<p><em>The following extends section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.13">4.13</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>When defined in a ‘grouping’, a leaf or leaf-list of type ‘leafref’
MUST NOT specify a path using a relative XPath statement to a node that
exists outside the grouping. Referencing nodes outside of a grouping
makes assumptions about where within a schema tree the grouping is to be
used and thus limits the reusability of the grouping.</p>
<p>The following example violates this guideline because the leaf
‘profile-ref’ is referencing the leaf ‘name’ that exists outside of the
‘grouping’ statement. For this path to be valid, the grouping has to be
used in a schema where the data node hierarchy, specified in the ‘path’,
exists.</p>
<pre><code>grouping example-grouping {
  description
    &quot;An example grouping.&quot;;
  leaf profile-ref {
    type leafref {
      path &#39;../profiles/profile/name&#39;;
    }
    description
      &quot;Reference to a profile.&quot;;
  }
}</code></pre>
<p>The next example demonstrates the use of a relative path to a node
within the grouping, which does not violate the guideline.</p>
<pre><code>grouping example-grouping {
  description
    &quot;An example grouping.&quot;;
  leaf profile-ref {
    type leafref {
      path &#39;../profiles/profile/name&#39;;
    }
    description
      &quot;Reference to a profile.&quot;;
  }

  container profiles {
    description
      &quot;Configuration associated with profiles.&quot;;

    list profile {
      key name;
      description
        &quot;A profile.&quot;;

      leaf name {
        type string;
        description
          &quot;The name of the profile.&quot;;
      }
    }
  }
}</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:ietf-23-prefix-naming-conventions">IETF-23: Prefix Naming
Conventions</h3>
<p><em>This guideline extends section <a
href="https://datatracker.ietf.org/doc/html/rfc8407#section-4.2">4.2</a>
of RFC 8407 <span class="citation" data-cites="RFC8407"><a
href="#ref-RFC8407" role="doc-biblioref">[6]</a></span>.</em></p>
<p>Prefixes defined in BBF YANG Modules MUST start with “bbf-”, e.g.,
“bbf-yang” in the module bbf-yang-types.</p>
<h2 class="new-page auto-hoverlink" data-info="header"
id="sec:bbf-yang-guidelines">BBF YANG Guidelines</h2>
<p>This section adds BBF-specific guidelines that go beyond the scope of
the IETF YANG Guidelines.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-1-use-of-ianaietf-yang-modules">BBF-1: Use of IANA/IETF YANG
Modules</h3>
<p>BBF YANG modules MUST use standard IANA/IETF YANG modules whenever
possible. In this context, “use” implies adherence to the letter and
spirit of such modules and of their defining RFCs.</p>
<p>Individual Working Text documents MUST reference the standard models
which are applicable.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-2-line-length">BBF-2: Line Length</h3>
<p>The length of each line of text in a YANG module MUST not exceed 70
characters.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-3-deviations">BBF-3: Deviations</h3>
<p>Deviations MUST NOT be used in BBF YANG modules.</p>
<p>However, deviations can be used alongside BBF YANG modules as
described in the section BBF Deviation Guidelines.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-4-short-names">BBF-4: Short Names</h3>
<p>Lists and leaf-lists may have many elements resulting in large
amounts of data present on the line. For XML encoding, the name of each
node appears twice for every element of the list or leaf-list. Although
IETF-12 states that identifiers SHOULD include complete words, the
expedient use of short names SHOULD be imposed to shorten on-the-wire
messaging and improve efficiency.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-5-descriptions-and-references">BBF-5: Descriptions and
References</h3>
<p>All descriptions MUST read as sentences or sentence fragments
containing proper capitalization and punctuation, e.g., ending with
periods. However, <a href="#sec:bbf-25-reference-statements"
class="heading">reference statements</a> need not meet this requirement
and do not need to terminate with a period.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-6-special-values">BBF-6: Special Values</h3>
<p>Special values SHOULD be parameterized in an enumeration as part of a
union with the normal values.</p>
<p>Enumerations SHOULD NOT be used in cases where a special value means
“XXX or less” or “YYY or more”.</p>
<p>Example:</p>
<pre><code>  typedef snr-margin {
    type union {
      type enumeration {
        enum &quot;undetermined&quot; {
          description
            &quot;Indicates the value is not determined.&quot;;
        }
      }
      type int16 {
        range &quot;-511..511&quot;;
      }
    }
    description
      &quot;Reports the signal-to-noise ratio margin. A first special value
       (undetermined) indicates that the signal-to-noise ratio margin
       is undetermined. A second special value (-511) indicates that
       the signal-to-noise ratio margin is less than or equal to -51.1
       dB. A third special value (+511) indicates that the
       signal-to-noise ratio margin is greater than or equal to
       +51.1dB.&quot;;</code></pre>
<p>In the above example, -511 refers to a value less than or equal to
-51.1; +511 refers to a value greater than or equal to +51.1 and the
enum “undetermined” refers to a value which is undetermined.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-7-paragraph-separation-in-description-statements">BBF-7:
Paragraph Separation in Description Statements</h3>
<p>For description statements which contain multiple paragraphs, each
paragraph SHOULD be separated using a blank line.</p>
<p>Example:</p>
<pre><code>  description
    &quot;This is the first paragraph of the description.

     This is the second paragraph of the description.&quot;;</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-8-revision-statements">BBF-8: Revision Statements</h3>
<p>Superseded by BBF-15.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-9-explicit-modeling">BBF-9: Explicit Modeling</h3>
<p>Where YANG allows something or some behavior to be explicitly modeled
(e.g., enumerations, range, units, must, etc.) then this SHOULD always
be done. Mandatory requirements in descriptions SHOULD be used only
where it is not possible or practical to use formal YANG modeling to
convey the requirement.</p>
<p>Example:</p>
<pre><code>  leaf forwarder {
    type bbf-l2-fwd:forwarder-ref;
    description
      &quot;A reference to a forwarder.

       The following is a constraint that could not be captured in
       YANG: multiple Maintenance Groups referencing the same
       forwarder are allowed, but only if they have a different
       level.

       Note that there is no BBF requirement for multiple levels
       with up-MEPs. Within BBF context multiple levels on a
       forwarder go together with one level using up-MEPs and a
       higher level using MIPs.&quot;;
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-10-retroactive-application-of-od-360-guidelines">BBF-10:
Retroactive Application of OD-360 Guidelines</h3>
<p>OD-360 guidelines MAY be retroactively applied to published BBF YANG
modules but MUST NOT be applied if the resulting change is backward
incompatible with the previously published version. For example, an
existing node named using an underscore ’_’ instead of a dash ‘-’ MUST
NOT be changed in published module as the resulting renaming is not
backward compatible.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-11-multi-word-identifiers">BBF-11: Multi-word
Identifiers</h3>
<p>YANG identifiers which represent multiple words, e.g., target margin,
SHOULD use a dash between the normally whitespace separated words, e.g.,
‘target-margin’.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-12-acronyms-in-description-statements">BBF-12: Acronyms in
Description Statements</h3>
<p>Acronyms can be used in description statements. However, the first
instance of the acronym in a description statement SHOULD have its
meaning clearly conveyed.</p>
<p>For example:</p>
<pre><code>  leaf cbs {
    type bbf-qos-plc-tp:burst-size;
    description
      &quot;Committed Burst Size (CBS) defines the amount of traffic
       that can be admitted above the Committed Information Rate
       (CIR) and considered green.&quot;;
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-13-abbreviations-in-description-statements">BBF-13:
Abbreviations in Description Statements</h3>
<p>Abbreviations can be used in description statements. However, the
first instance of the abbreviation in a description statement SHOULD
have its meaning clearly conveyed.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-14-creating-andor-extending-bbf-yang-models">BBF-14:
Creating and/or Extending BBF YANG Models</h3>
<p>This guideline defines the best practices when defining a new BBF
YANG model and/or having BBF extend an existing (BBF or non-BBF) YANG
model.</p>
<p>When creating or editing BBF YANG models, the following use cases
apply:</p>
<ol type="1">
<li><p><strong>Requirements that are captured in a Broadband Forum
Technical Report</strong>: In this case, the BBF YANG model should meet
the requirement set forward in the Technical Report. For example, the
models contained in TR-383 build on the requirements of
TR-101/156/167/301.</p></li>
<li><p><strong>Requirements (or information models) that are captured in
standards documents published by other SDOs and referenced from a
Broadband Forum Technical Report, for which the other SDO is not
developing a YANG model</strong>: In this case, the BBF YANG data model
should reference the applicable standard and be able to meet the
requirement(s) from that document. For example, the TR-355 G.fast YANG
model contains attributes defined in ITU-T Recommendation
G.997.2.</p></li>
<li><p><strong>A model requirement which is not formulated as required,
or not formulated at all, for the specific use case in a Broadband Forum
Technical Report or a standard published by another SDO</strong>: In
this case, the following guidelines apply:</p>
<ol type="1">
<li><p>First, the requirement must be formulated based on inputs brought
forward to the BBF (i.e., a contribution explaining the need for the
requirement).</p></li>
<li><p>There must be consensus among the participants in the Work
Area/Project Stream to move forward with this requirement.</p></li>
<li><p>It is desirable, but not mandatory, for the requirements to be
captured in a BBF Technical Report. However, that should not hold up
putting the requirement in the YANG model. In other words, if the Work
Area agrees that something should be added in a BBF YANG model, then we
do not need to wait until the requirement is captured in a Technical
Report.</p></li>
<li><p>The new requirement must not deviate from any existing
requirements in BBF Technical Reports.</p></li>
<li><p>The new requirement must be reviewed by any Work Area(s) or
Project Stream(s) for which it is clearly applicable (e.g., a PON
related requirement is to be reviewed by the FAN WA).</p></li>
</ol></li>
</ol>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-15-yang-model-revisions-and-license">BBF-15: YANG Model
Revisions and License</h3>
<p>BBF YANG Models are available in three possible states:</p>
<ul>
<li>Published: Models are made available to the public in GitHub and are
associated with a Technical Report.</li>
<li>Draft: Models are made available to the public in GitHub and are
associated with a draft Working Text.</li>
<li>Development: Models are made available to members in Bitbucket while
they are in development.</li>
</ul>
<p>In order to allow BBF members to consume BBF YANG models in any
state, the following apply with regards to revision statements and
license text.</p>
<h4 class="auto-hoverlink" data-info="header"
id="sec:published">Published</h4>
<p>Each published module and submodule SHALL:</p>
<ul>
<li>have a new, if previously published, or initial revision statement
containing the TR publication date as the revision date. All submodules
associated with a module SHALL have the same revision date as the parent
module regardless of whether they were changed.</li>
<li>maintain all revision statements from previously published
revisions.</li>
<li>contain the standard BBF software license with correct copyright
year(s).</li>
</ul>
<h4 class="auto-hoverlink" data-info="header" id="sec:draft">Draft</h4>
<p>Each draft module and submodule SHALL:</p>
<ul>
<li>have a new, if previously published, or initial revision statement
containing the draft publication date as the revision date. All
submodules associated with a module SHALL have the same revision date as
the parent module regardless of whether they were changed.</li>
<li>maintain all revision statements from previously published
revisions.</li>
<li>contain the draft BBF software license with correct copyright
year(s).</li>
</ul>
<h4 class="auto-hoverlink" data-info="header"
id="sec:development">Development</h4>
<p>Each development module and submodule SHALL:</p>
<ul>
<li>have a new, if previously published, or initial revision statement
containing the date of the end of the review period of the last pull
request that contained the module and/or submodule. All submodules
associated with a module SHALL have the same revision date as the parent
module regardless of whether they were changed as part of the recent
pull request.</li>
<li>maintain all revision statements from previously published
revisions.</li>
<li>contain the standard BBF software license with correct copyright
year(s).</li>
</ul>
<p>The end of the license must state the following (replacing xxx with
the Working Text number):</p>
<pre><code>  This version of this YANG module is part of WT-xxx; see
  the WT itself for full legal notices.&quot;;</code></pre>
<p>The format of the revision statement in a development module shall be
as follows:</p>
<pre><code>  revision 2021-09-03 {
    description
      &quot;TBD
       * Approval Date:    TBD.
       * Publication Date: TBD.&quot;;
    reference
      &quot;TBD&quot;;
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-16-enum-naming">BBF-16: Enum Naming</h3>
<p>All enums in an enumeration SHOULD be named using names that describe
their functional meaning rather than something ambiguous such as an
integer string, “1”.</p>
<p>For example, this definition is preferred</p>
<pre><code>  leaf ra-mode {
    type enumeration {
      enum manual {
        description
          &quot;Mode 1 = MANUAL.&quot;;
      }
      enum at-init {
        description
          &quot;Mode 2 = AT_INIT.&quot;;
      }
      enum dynamic {
        description
          &quot;Mode 3 = DYNAMIC.&quot;;
      }
      enum dynamic-with-sos {
        description
          &quot;Mode 4 = DYNAMIC with SOS.&quot;;
      }
    }</code></pre>
<p>over this one.</p>
<pre><code>  leaf ra-mode {
    type enumeration {
      enum 1 {
        description
          &quot;Mode 1 = MANUAL.&quot;;
      }
      enum 2 {
        description
          &quot;Mode 2 = AT_INIT.&quot;;
      }
      enum 3 {
        description
          &quot;Mode 3 = DYNAMIC.&quot;;
      }
      enum 4 {
        description
          &quot;Mode 4 = DYNAMIC with SOS.&quot;;
      }
    }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-17-value-statements">BBF-17: Value Statements</h3>
<p>When modeling an enumeration where each enum corresponds to an
integer value specified by a underlying standard specification, a model
MAY choose to model those values in the ‘value’ statement.</p>
<p>The ‘value’ carries no meaning via NETCONF nor RESTCONF but is used
for an implementation and reference aid.</p>
<p>For an enumeration whose underlying values are 0..n, the ‘value’
statements are not necessary as all enums have an implied value if not
explicitly specified. The implied values begin with 0 and increment by 1
for each enum in the enumeration.</p>
<pre><code>  leaf ra-mode {
    type enumeration {
      enum manual {
        value 1;
        description
          &quot;Mode 1 = MANUAL.&quot;;
      }
      enum at-init {
        value 2;
        description
          &quot;Mode 2 = AT_INIT.&quot;;
      }
      enum dynamic {
        value 3;
        description
          &quot;Mode 3 = DYNAMIC.&quot;;
      }
      enum dynamic-with-sos {
        value 4;
        description
          &quot;Mode 4 = DYNAMIC with SOS.&quot;;
      }
    }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-18-prefix-on-if-feature-statements">BBF-18: Prefix on
‘if-feature’ Statements</h3>
<p>An ‘if-feature’ statement on any node defined within a top level
grouping which depends on a ‘feature’ that is defined in the same module
as the grouping MUST use the prefix on the feature name contained within
the ‘if-feature’ statement.</p>
<pre><code>  module bbf-availability {
    yang-version 1.1;
    namespace &quot;urn:bbf:yang:bbf-availability&quot;;
    prefix bbf-avail;
    ...

    feature availability {
      description
        &quot;Indicates support for retrieving availability of resources.&quot;;
    }

    ...

    grouping availability {
      description
        &quot;Defines the availability of entities.&quot;;

      container availability {
        if-feature &quot;bbf-avail:availability&quot;;
        presence
          &quot;If present, this container indicates supports for
           retrieving the availability of the entity for which it is
           used.&quot;;
        config false;
        description
          &quot;Operational status defining the availability of an
           entity.&quot;;

        uses availability-parameters;
      }
    }

    ...
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-19-default-case-of-a-choice-statement---empty-typed-leaf">BBF-19:
Default Case of a Choice Statement - Empty Typed Leaf</h3>
<p><em>This requirement is derived from section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-7.9.3">7.9.3</a>
and section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-9.11">9.11</a>
of RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>.</em></p>
<p>The default case of a choice statement MUST not contain a sole
descendant leaf node of type “empty”.</p>
<p>Section 7.9.3 states that “The default case is only important when
considering the ‘default’ statements of nodes under the cases (i.e.,
default values of leafs and leaf-lists, and default cases of nested
choices).” It also states that “The default values and nested default
cases under the default case are used if none of the nodes under any of
the cases are present.”.</p>
<p>Section 9.11 states that an empty type cannot have a default
value</p>
<p>In the example below, the choice ‘manual’ has a leaf with an empty
type as the only child node. Since an empty leaf cannot have a default
value, the behavior of an &lt;edit-config&gt; request that creates the
‘transfer’ container without providing any data for the choice ‘how’
will be the same irrespective of whether the default ‘manual’ statement
is present or not.</p>
<p>The leaf ‘manual’ will not be created.</p>
<pre><code>  container transfer {
    description
      &quot;Configuration associated with the timing
       of a transfer.&quot;;

    choice how {
      default manual;
      description
        &quot;Transfer timing methods.&quot;;

      case interval {
        leaf interval {
          type uint16;
          units minutes;
          default 30;
          description
            &quot;Transfer every &#39;interval&#39; minutes.&quot;;
        }
      }

      case manual {
        leaf manual {
          type empty;
          description
            &quot;Only transfer when manually triggered.&quot;;
        }
      }
    }
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-20-formatting-error-string-statements">BBF-20: Formatting
‘error-string’ statements</h3>
<p>To ensure ease of rendering in client tools such as GUIs etc. and
regardless of their length, error-messages MUST be defined as a single
line of text and MUST NOT contain explicit line breaks (\n) or tab (\t)
characters or formatted in any way.</p>
<p>‘error-string’ statements which span across multiple lines MUST be
defined by concatenating individual quoted-string statements defined per
line.</p>
<p>This is necessary to ensure that the strings will be correctly
concatenated and white space retained as intended and rendered correctly
in client tools.</p>
<p>Example:</p>
<pre><code>error-message
  &quot;The name of a multicast interface to host can not
   be the name of a multicast network interface.&quot;;</code></pre>
<p>Per RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span>, section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-6.1.3">6.1.3</a>,
this ‘error-message’ would be reported as either</p>
<pre><code>&lt;error-message&gt;The name of a multicast interface to host can not\nbe the name of a multicast network interface.&lt;/error-message&gt;</code></pre>
<p>or</p>
<pre><code>&lt;error-message&gt;The name of a multicast interface to host can notbe the name of a multicast network interface.&lt;/error-message&gt;</code></pre>
<p>depending on how the system interprets a new line.</p>
<p>Corrected:</p>
<pre><code>error-message
  &quot;The name of a multicast interface to host can not &quot;
+ &quot;be the name of a multicast network interface.&quot;;</code></pre>
<p>Which would be reported as:</p>
<pre><code>&lt;error-message&gt;The name of a multicast interface to host can not be the name of a multicast network interface.&lt;/error-message&gt;</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-21-deprecating-and-obsoleting-data-nodes">BBF-21:
Deprecating and Obsoleting Data Nodes</h3>
<p>There are times when the need arises to migrate away from using
previously published data nodes:</p>
<ul>
<li>A newer, possibly more efficient, method has been defined.</li>
<li>Error(s) existing in the current definition that cannot be resolved
in a backward compatible way.</li>
<li>Data nodes were unnecessary or modeled by mistake, and there is no
need to maintain or replace them.</li>
</ul>
<p>The process for this is as follows:</p>
<ol type="1">
<li>Change the status of the applicable data nodes from “current” to
“deprecated” by adding a status statement with the value
“deprecated”.</li>
<li>The deprecated data nodes MUST remain in this state for at least two
years.</li>
<li>Beginning with the next publication after at least two years, the
data nodes MAY be transitioned from “deprecated” to “obsolete”.</li>
<li>The obsoleted data nodes MUST never be deleted from the YANG
model.</li>
</ol>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-22-backwards-compatibility">BBF-22: Backwards
Compatibility</h3>
<p>An update to an existing YANG module is said to be backward
compatible when the clients running with any older versions of the
module are able to continue interoperating with a server running the
updated version of the module without any issues.</p>
<p>In general, BBF YANG modules SHOULD NOT introduce changes that are
defined as backwards incompatible per RFC 7950 <span class="citation"
data-cites="RFC7950"><a href="#ref-RFC7950"
role="doc-biblioref">[4]</a></span> section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-11">11</a>.
Instead, add new definitions and use methods of deprecating and
obsoleting previous definitions per RFC 7950 <span class="citation"
data-cites="RFC7950"><a href="#ref-RFC7950"
role="doc-biblioref">[4]</a></span> section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-7.21.2">7.21.2</a>
and further clarified by BBF-21.</p>
<p>However, experience has shown that in certain cases, additional
considerations must be taken into account to decide if an update is
acceptable, such as:</p>
<ul>
<li>changes that are backwards incompatible according to RFC 7950 <span
class="citation" data-cites="RFC7950"><a href="#ref-RFC7950"
role="doc-biblioref">[4]</a></span> section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-11">11</a>
may nevertheless be compatible in conjunction with other changes made at
the same time. Therefore, it may be possible to address a specific
problem, through backwards incompatible changes.</li>
<li>RFC 7950 <span class="citation" data-cites="RFC7950"><a
href="#ref-RFC7950" role="doc-biblioref">[4]</a></span> section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-11">11</a>
specifies a bullet list of changes that are considered backward
compatible. A change that is not present in this bullet list could also
be considered backward compatible if it meets the generic condition of
backward compatibility defined in the first paragraph of this OD-360
guideline. Such cases require a case by case decision. For example
adding a ‘require-instance false’ statement to an existing leafref
relaxes the constraint, and therefore could be considered backwards
compatible, but adding a new similar leaf that contains this statement
is usually considered a better choice.</li>
</ul>
<p>Before agreeing to such changes to a published YANG module, Work
Areas must ensure, to the greatest possible extent, that these changes
will indeed be backwards compatible and not impact any existing operator
configuration or operations or other SDOs or vendors augmentations of
these standardized modules.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-23-enable-vs.-enabled">BBF-23: “enable” vs. “enabled”</h3>
<p>Data nodes used to enable/disable some function, and whose identifier
is intended to include the term “enable”, either solely or as part of a
larger name, SHALL use the “enabled” form of the word, e.g., ‘enabled’
or ‘statistics-enabled’. This also applies to the names of enums or
bits.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-24-oper-state-vs.-oper-status">BBF-24: “oper-state”
vs. “oper-status”</h3>
<p>BBF YANG modules SHALL use the term ‘oper-state’ when defining a data
node that reports the operational state. This is applicable whether it
is the full name or part of the name of the data node, e.g.,
‘oper-state’, ‘oper-state-timestamp’.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-25-reference-statements">BBF-25: Reference Statements</h3>
<p>The goal of a reference statement is not only to completely and
unambiguously guide the user to the documentation that supports the data
node(s) being modeled, but also to enable the user to locate data nodes
within YANG modules that implement specific attributes or parameters
specified in the given documentation by searching through the YANG
modules for references to those attributes or parameters. To that end,
the following guideline is provided.</p>
<p>Reference statements SHALL reference technical specifications in a
consistent manner using one or both of the following formats:</p>
<pre><code>reference
  &quot;[&lt;single-reference&gt;; &lt;EOL&gt;]* &lt;single-reference&gt;&quot;;

&lt;single-reference&gt; ::=  [&lt;SDO&gt;] &lt;doc#&gt; [(&lt;version&gt;)] [&lt;R/S/C/T/F&gt;] [- &lt;descr&gt;] | &lt;URL&gt; [- &lt;descr&gt;]</code></pre>
<p>where</p>
<ul>
<li>&lt;SDO&gt;: Standards Defining Organization
<ul>
<li>Examples: IEEE, ITU-T</li>
<li>Optional: For well known document types, e.g., RFC implies IETF and
TR implies BBF, the SDO is not required.</li>
</ul></li>
<li>&lt;doc#&gt;: Document number
<ul>
<li>Examples: TR-101i2, RFC 7950</li>
<li>Mandatory</li>
<li>For BBF documents, the Issue and/or Amendment and/or Corrigendum are
included in the document number in the abbreviated format as described
in IETF-7, e.g., TR-101i2, TR-385i2a1.</li>
</ul></li>
<li>&lt;version&gt;: Version or revision number and/or date
<ul>
<li>Examples: (Revision 12.3), (2008/07)</li>
<li>Optional: For documents whose name implies or specifies the version,
e.g., RFC 8348, TR-383a6, additional version information is not
required.</li>
</ul></li>
<li>&lt;R/S/C/T/F&gt;: Requirement/Section/Clause/Table/Figure
<ul>
<li>Examples: R-13, Section 3.6, Clause 7.2.1, Table 2, Figure 5-4</li>
<li>Optional: Only if applicable.</li>
<li>Terminology MUST align with the terms used by the reference, e.g.,
Sections for RFCs, Clauses for ITU-T specifications.</li>
<li>First letter is capitalized, e.g., “Section” instead of
“section”.</li>
<li>If multiple are applicable in a given document, treat each as a
separate reference.</li>
</ul></li>
<li>&lt;descr&gt;: Description of the reference
<ul>
<li>Examples: variable name or specific identifier within the Section or
Clause</li>
<li>Optional: Should be used when it is possible to uniquely identify
the parameter being modeled within the given reference.
<ul>
<li>Examples:
<ul>
<li>An ME defined in an ITU-T G.988 Clause contains one or more
parameters. If the reference is for one specific parameter, it must be
identified in the reference, e.g., “ITU-T G.988 Clause 9.9.6 - PSTN
protocol variant”.</li>
<li>A parameter defined in an ITU-T G.997.x Clause is typically fully
contained within the clause, i.e., no ambiguity. However, for
implementers, it is useful to be able to quickly search for a desired
parameter when the Clause is not known. For this use case, both the
descriptive and shorthand (if applicable) representation should be
identified, e.g., “ITU-T G.997.2 Clause 7.2.1.1 - Maximum net data rate
(MAXNDRds/us)”.</li>
<li>However, if the G.997.x parameter represents more than one distinct
value, e.g., upstream and downstream, and the data node only applies to
one, the reference should only contain the value for which it is
applicable, e.g., “ITU-T G.997.2 Clause 7.2.1.1 - Maximum net data rate
downstream (MAXNDRds)”.</li>
<li>A parameter defined in a Table in SFF-8472 is specified by its
memory location (address and byte numbers). References for these types
of parameters should include the address and bytes, e.g., “SFF-8472
(Revision 12.4) Table 4-1 - Address A0h, Bytes 96-127”.</li>
</ul></li>
</ul></li>
<li>In general, the title associated with the reference should not be
used unless it also represents one of the above.</li>
</ul></li>
<li>&lt;URL&gt;: The URL of the associated reference used when there is
no formal technical specification
<ul>
<li>Example:
github.com/grpc/grpc/blob/master/doc/connection-backoff.md</li>
<li>Do not include the URL scheme, e.g., http:// or https://, as it may
change. For example, a site may move from an unsecure (http) scheme to a
secure (https) scheme.</li>
</ul></li>
<li>‘;’: Requirement separator
<ul>
<li>Mandatory: A semicolon MUST be used to terminate all but the last
reference when there are multiple references in a reference
statement.</li>
<li>Each reference MUST start on a new line.</li>
<li>This is not applicable when there is only one reference in the
reference statement.</li>
</ul></li>
<li>If a single reference spans multiple lines, the first character on
the second and subsequent lines of the reference SHALL align under the
first character on the first line of the reference.</li>
</ul>
<p>Example:</p>
<pre><code>reference
  &quot;RFC 5519 Section 5 - mgmdRouterInterfaceQueryInterval;
   TR-101i2 Table 2;
   SFF-8472 (Revision 12.4) Table 9-5 - Address A2h,
   Bytes 40-41;
   ITU-T G.997.2 Clause 7.11.1.1 - Net data rate (NDRds/us);
   ITU-T G.997.2 Clause 7.2.1.1 - Maximum net data rate downstream (MAXNDRds);
   IEEE 802.1Q (2018) Clause 20.23.3;
   IEEE 802.1Q (2018) Table 20-1 - xconCCMdefect;
   github.com/grpc/grpc/blob/master/doc/connection-backoff.md - INITIAL_BACKOFF&quot;;</code></pre>
<p>Additional Notes:</p>
<ul>
<li>While external references must be documented in the ‘reference’
statement, it is also allowed to refer to them in the description
itself.</li>
<li>This guideline does not apply to a reference statement within a
revision statement. Those reference statements have a unique format used
for drafts and publication.</li>
<li>URL references should be periodically reviewed to ensure they still
exist or have not been moved.</li>
</ul>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-26-body-statements">BBF-26: Body Statements</h3>
<p>The order of body statements in BBF YANG modules SHOULD follow the
order as stated in the body-stmt ABNF grammar defined in RFC 7950 <span
class="citation" data-cites="RFC7950"><a href="#ref-RFC7950"
role="doc-biblioref">[4]</a></span> section <a
href="https://datatracker.ietf.org/doc/html/rfc7950#section-14">14</a>
and as shown in the YANG Module Template defined in RFC 8407 <span
class="citation" data-cites="RFC8407"><a href="#ref-RFC8407"
role="doc-biblioref">[6]</a></span> Appendix <a
href="https://datatracker.ietf.org/doc/html/rfc8407#appendix-B">B</a>.
Note that while the ABNF grammar specifies deviation statements follow
notifications, the YANG Module Template states “DO NOT put deviation
statements in a published module”. BBF YANG modules MUST follow this
stated guideline on deviation statements.</p>
<p>Body Statement Order:</p>
<ul>
<li>extension statements</li>
<li>feature statements</li>
<li>identity statements</li>
<li>typedef statements</li>
<li>grouping statements</li>
<li>data definition statements</li>
<li>augment statements</li>
<li>rpc statements</li>
<li>notification statements</li>
</ul>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-27-list-and-leaf-list-naming-and-descriptions">BBF-27:
‘list’ and ‘leaf-list’ Naming and Descriptions</h3>
<p>The name of a ‘list’ or ‘leaf-list’ data node SHALL be in the
singular form. The motiviation is that the XML representation repeats
the name for each entry.</p>
<p>Example YANG:</p>
<pre><code>list traffic-management-profile {
  key name;
  description
    &quot;A traffic management profile.&quot;;

  leaf name {
    type string;
    description
      &quot;The name of the profile.&quot;;
  }
}</code></pre>
<p>Example XML:</p>
<pre><code>&lt;traffic-management-profile&gt;
  &lt;name&gt;multicast&lt;/name&gt;
&lt;/traffic-management-profile&gt;
&lt;traffic-management-profile&gt;
  &lt;name&gt;hsi&lt;/name&gt;
&lt;/traffic-management-profile&gt;</code></pre>
<p>Note in the example YANG, the description for the ‘list’ node
describes a single entry in the list, “A traffic management
profile”.</p>
<p>The description statement for a ‘list’ or ‘leaf-list’ data node SHALL
describe what an entry represents rather than describing the entire
list. In other words, the description should follow the example above
rather than:</p>
<pre><code>list traffic-management-profile {
  key name;
  description
    &quot;A list of traffic management profiles.&quot;;

  leaf name {
    type string;
    description
      &quot;The name of the profile.&quot;;
  }
}</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-28-description-on-when-statements">BBF-28: Description on
‘when’ statements</h3>
<p>Not everyone reading a YANG model is an expert in YANG and/or XPath.
In order to provide assistence in understanding the intent, all ‘when’
statements SHALL contain a description statement. This description
should convey the intent of the ‘when’ condition in easy to understand
language.</p>
<p>Examples:</p>
<pre><code>when &quot;derived-from-or-self(hw:class,&#39;bbf-hwt:transceiver-link&#39;) {
  description
    &quot;Applicable when the class of hardware component is either a
     transceiver link or another class derived from a transceiver
     link.&quot;;
}</code></pre>
<pre><code>when &quot;not(boolean(../enable))&quot;
   + &quot; or &quot;
   + &quot;(../enable=&#39;true&#39;)&quot; {
  description
    &quot;If the administrative state of a session is
     supported, the session must be currently
     administratively enabled to reset the session.&quot;;
}</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-29-use-of-english-contractions">BBF-29: Use of English
Contractions</h3>
<p>Descriptions in YANG modules are considered to be formal
documentation. Therefore, English contractions, e.g., can’t, isn’t,
etc., SHALL NOT be used in description statements.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-30-use-of-presence-statements">BBF-30: Use of Presence
statements</h3>
<p>A presence statement is a substatement of a container statement. A
container defined in YANG without a presence statement exists in the
data tree of a datastore only for organizing the hierarchy of data
nodes. A container defined with a presence statement assigns its meaning
to the existence of the container in the data tree of a datastore.</p>
<p>The use of a presence statement has the following effect: if
mandatory data nodes and/or data nodes with a default value are defined
within a presence container, then these data nodes will only exist if
the container is present in the data store; if the container is not
present, then these data nodes will also not be present in the data
store. In contrast, a container without a presence statement that has
one or more mandatory data nodes or data nodes with a default value will
always exist with those data nodes.</p>
<p>Note that for backward compatibility reasons, mandatory data nodes
cannot be added to a newer revision of a YANG module. However, mandatory
data nodes can be added to a newer revision conditionally, such as by
embedding them in a container with a presence statement.</p>
<p>In BBF modules containers shall be defined with a presence statement
when:</p>
<ul>
<li>the presence of the container itself in the data tree has a meaning;
for example, the presence of the container ‘l2-dhcpv4-relay’ in module
bbf-l2-dhcpv4-relay in a data tree enables the DHCP relay function.</li>
</ul>
<pre><code>    container l2-dhcpv4-relay {
      presence
        &quot;Enables the management of DHCPv4 message processing at this
         VLAN sub-interface.&quot;;  &lt;&lt; because of this meaning being assigned
      description
</code></pre>
<ul>
<li>the configuration of data nodes is to be conditionally enforced; for
example, the reference to a profile is mandatory in the same
‘l2-dhcpv4-relay’ container referred to above, because from the moment
the DHCP relay function is enabled, the means as to how DHCP messages
are to be processed must be configured.</li>
</ul>
<pre><code>    container l2-dhcpv4-relay {
      presence
        &quot;Enables the management of DHCPv4 message processing at this
         VLAN sub-interface.&quot;;
      leaf enable
      leaf profile-ref {
        when &quot;../enable = &#39;true&#39;&quot; {
          description
            &quot;Applicable only when L2 DHCPv4 Relay Agent functionality
             is enabled.&quot;;
        }
        type leafref {
          path &quot;/bbf-l2-d4r:l2-dhcpv4-relay-profiles/bbf-l2-d4r:l2-&quot;
             + &quot;dhcpv4-relay-profile/bbf-l2-d4r:name&quot;;
        }
        mandatory true;  &lt;&lt; to make this leaf conditionally mandatory</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-31-formatting-xpath-expression-arguments-of-yang-statements">BBF-31:
Formatting XPath expression arguments of YANG statements</h3>
<p>XPath expression arguments of ‘must’, ‘when’ and ‘path’ statements
shall follow the following guidelines:</p>
<ul>
<li>the first line of the argument MUST be on the next line after the
keyword with the opening quote using an additional two space indentation
compared with that of the keyword.</li>
<li>if the argument spans multiple lines, then the argument MUST be
defined by concatenating individual quoted-string statements defined per
line.</li>
<li>these additional lines shall follow the indentation of the first
line of the argument where the characters “+” precede a quoted string
for which the opening quote of all lines aligns.</li>
</ul>
<p>Examples:</p>
<pre><code>      leaf profile-ref {
        when
          &quot;../enabled = &#39;true&#39;&quot; {
          description
            &quot;...&quot;;
        }
        type leafref {
          path
            &quot;/bbf-icmpv6:icmpv6-profiles/bbf-icmpv6:&quot;
          + &quot;icmpv6-profile/bbf-icmpv6:name&quot;;
        }
        description
          &quot;...&quot;;
      }</code></pre>
<pre><code>    leaf shaper-name {
      type leafref {
        path
          &quot;/bbf-qos-tm:tm-profiles/bbf-qos-shap:shaper-profile/&quot;
        + &quot;bbf-qos-shap:name&quot;;
      }
      must
        &#39;boolean(/bbf-qos-tm:tm-profiles/bbf-qos-shap:shaper-profile&#39;
      + &#39;[bbf-qos-shap:name=current()]/bbf-qos-shap:&#39;
      + &#39;single-token-bucket)&#39; {
        error-message
          &quot;...&quot;;
        description
          &quot;...&quot;;
      }
    }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-32-naming-choices">BBF-32: Naming choices</h3>
<p>Choice statements can be augmented with additional case statements
and in some cases choice statements may be defined without case
statements with the expectation that case statements are to be added
through augmentations from other BBF modules, from modules from other
SDOs or from vendor’s proprietary modules.</p>
<p>Therefore, the name of choices should not include the names of
specific cases and should always be generic in nature, i.e., describing
the purpose of the choice and not any specific implementation.</p>
<p>A bad example would be as follows:</p>
<pre><code>    choice red-or-green {
      mandatory true;
      case red {
        leaf red-reference {
          type red-ref;
          description
            &quot;A reference to red.&quot;;
        }
      }
      case green {
        container green-definition {
          ...
        }
      }
    }</code></pre>
<p>If the choice above would be augmented with a case ‘blue’, then the
name of the choice would become inconsistent and misleading.</p>
<p>A more generic and preferred naming would be as follows:</p>
<pre><code>    choice color {
      mandatory true;
      case red {
        leaf red-reference {
          type red-ref;
          description
            &quot;A reference to red.&quot;;
        }
      }
      case green {
        container green-definition {
          ...
        }
      }
    }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:bbf-33-mapping-of-alarm-type-identifiers-to-itu-t-x.733-and-itu-t-x.736-event-types">BBF-33:
Mapping of alarm type identifiers to ITU-T X.733 and ITU-T X.736 event
types</h3>
<p>ITU-T X.733 Clause 8.1.1 <span class="citation" data-cites="X.733"><a
href="#ref-X.733" role="doc-biblioref">[8]</a></span> and ITU-T X.736
Clause 8.1.1 <span class="citation" data-cites="X.736"><a
href="#ref-X.736" role="doc-biblioref">[9]</a></span> define a series of
‘event types’, such as ‘communications alarm type’, ‘quality of service
alarm type’ or ‘integrity violation’ to categorize alarms. Event types
are refined through ‘event information’, which includes a ‘probable
cause’, a ‘specific problem’ and a ‘perceived severity’.</p>
<p>BBF Alarm Management for Access Nodes <span class="citation"
data-cites="TR-383"><a href="#ref-TR-383"
role="doc-biblioref">[1]</a></span> is based on the YANG module
ietf-alarms as defined by RFC 8632 “YANG Data Model for Alarm
Management” <span class="citation" data-cites="RFC8632"><a
href="#ref-RFC8632" role="doc-biblioref">[7]</a></span>. In RFC 8632 an
alarm is uniquely identified through an ‘alarm type’, which consists of
an ‘alarm type identifier’ and an ‘alarm type qualifier’, and the
resource which has raised the alarm. To be able to be integrated into
the BBF Alarm Management, BBF YANG data models must define ‘alarm type
identifiers’.</p>
<p>To retain continuity for operators between alarm management according
to RFC 8632 and the ITU-T X.733 and ITU-T X.736 alarm standards, RFC
8632 supports the additional YANG module ietf-alarms-x733, which
augments the alarm inventory, the alarm lists, and the alarm
notification with X.733 and X.736 parameters as well as the mapping of
event types and probable cause to individual alarm types as summarized
in the YANG tree below (alarm notification not shown for clarity as this
is basically the same as the entry in the alarm list).</p>
<pre><code>  +--rw alarms
     +--rw control
     |  ...
     |  +--rw alarm-shelving {alarm-shelving}?
     |  |  ...
     |  +--rw x733:x733-mapping* [alarm-type-id alarm-type-qualifier-match] {configure-x733-mapping}?
     |     +--rw x733:alarm-type-id               al:alarm-type-id
     |     +--rw x733:alarm-type-qualifier-match  string
     |     +--rw x733:event-type?                 event-type
     |     +--rw x733:probable-cause?             uint32
     |     +--rw x733:probable-cause-string?      string
     +--ro alarm-inventory
     |  +--ro alarm-type* [alarm-type-id alarm-type-qualifier]
     |     +--ro alarm-type-id               alarm-type-id
     |     +--ro alarm-type-qualifier        alarm-type-qualifier
     |     +--ro resource*                   resource-match
     |     ...
     |     +--ro x733:event-type?            event-type
     |     +--ro x733:probable-cause?        uint32
     |     +--ro x733:probable-cause-string? string
     +--ro summary {alarm-summary}?
     |  ...
     +--ro alarm-list
     |  ...
     |  +--ro alarm* [resource alarm-type-id alarm-type-qualifier]
     |  |  +--ro resource                      resource
     |  |  +--ro alarm-type-id                 alarm-type-id
     |  |  +--ro alarm-type-qualifier          alarm-type-qualifier
     |  |  ...
     |  |  +--ro x733:event-type?              event-type
     |  |  +--ro x733:probable-cause?          uint32
     |  |  +--ro x733:probable-cause-string?   string
     |  |  +--ro x733:threshold-information
     |  |  |  +--ro x733:triggered-threshold? string
     |  |  |  +--ro x733:observed-value?      value-type
     |  |  |  +--ro (threshold-level)?
     |  |  |  |  +--:(up)
     |  |  |  |  |  +--ro x733:up-high?             value-type
     |  |  |  |  |  +--ro x733:up-low?              value-type
     |  |  |  |  +--:(down)
     |  |  |  |     +--ro x733:down-low?            value-type
     |  |  |  |     +--ro x733:down-high?           value-type
     |  |  |  +--ro x733:arm-time?            yang:date-and-time
     |  |  +--ro x733:monitored-attributes* [id]
     |  |  |  +--ro x733:id     al:resource
     |  |  |  +--ro x733:value? string
     |  |  +--ro x733:proposed-repair-actions* string
     |  |  +--ro x733:trend-indication?        trend
     |  |  +--ro x733:backedup-status?         boolean
     |  |  +--ro x733:backup-object?           al:resource
     |  |  +--ro x733:additional-information* [identifier]
     |  |  |  +--ro x733:identifier   string
     |  |  |  +--ro x733:significant? boolean
     |  |  |  +--ro x733:information? string
     |  |  +--ro x733:security-alarm-detector? al:resource
     |  |  +--ro x733:service-user?            al:resource
     |  |  +--ro x733:service-provider?        al:resource
     |  |  ...
     +--ro shelved-alarms {alarm-shelving}?
     |  ...
     +--rw alarm-profile* [alarm-type-id alarm-type-qualifier-match resource] {alarm-profile}?
        ...</code></pre>
<p>Although it would be possible to define a set of abstract alarm type
identities according to X.733 and X.736 event types, this would be
problematic, if the hard-coded categorization does not match the
operator’s own requirements and would not subsequently be able to be
modified by operators. The example below shows a possible hierarchy
based on X.733 event types for the ANCP YANG data model:</p>
<pre><code>    import bbf-alarm-types {
      prefix bbf-alt;
    }
    identity ancp-alarm-type-id {
      base bbf-alt:bbf-alarm-type-id;
    }
    identity communications-alarm {
      base bbf-alt:ancp-alarm-type-id;
    }
    identity adjacency-failure {
      base bbf-ancp:communications-alarm;
    }</code></pre>
<p>Therefore, when defining new alarm type identifiers, BBF YANG data
models SHOULD NOT define these alarm type identifiers within a fixed
hierarchy of alarm types as shown above, but implement the module
ietf-alarms-x733 to support the explicit mapping of alarm types to event
types and probable cause. The example below shows the preferred
hierarchy as implemented for the BBF ANCP YANG data model:</p>
<pre><code>     import bbf-alarm-types {
       prefix bbf-alt;
     }
     identity ancp-alarm-type-id {
       base bbf-alt:bbf-alarm-type-id;
     }
     identity adjacency-failure {
       base bbf-alt:ancp-alarm-type-id;
     }</code></pre>
<h2 class="new-page auto-hoverlink" data-info="header"
id="sec:bbf-deviation-guidelines">BBF Deviation Guidelines</h2>
<p>It is understood that there are times in which a device will need to
support a subset of a standard YANG model whether it be from BBF or any
other SDO. YANG provides a means to explicitly model this subset of
support via a deviation. While a deviation allows for almost any change
in the original definition, it is important that implementations only
allow those deviations which are truly a subset of the original and that
do not cause the device to violate the underlying specification on which
the YANG model is based. The following sections describe the types of
deviations and the guidelines by which they are expected to be used in
the Broadband Forum.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:types-of-deviations">Types of Deviations</h3>
<p>The YANG <em>deviate</em> statement is used to define the manner in
which the server deviates from a particular YANG module. There are 4
types of deviations defined as arguments to the deviate statement:</p>
<ul>
<li>not-supported
<ul>
<li>Indicates the target node is not implemented by the server.</li>
</ul></li>
<li>add
<ul>
<li>Adds properties to the target node so long as they do not already
exist.</li>
</ul></li>
<li>replace
<ul>
<li>Replaces properties of the target node so long as they already
exist.</li>
</ul></li>
<li>delete
<ul>
<li>Deletes existing properties of the target node.</li>
</ul></li>
</ul>
<h3 class="auto-hoverlink" data-info="header"
id="sec:dev-1-not-supported">DEV-1: not-supported</h3>
<p>The deviate <em>not-supported</em> argument MAY be used to announce
lack of support for an optional node.</p>
<p>An optional node is one which does not have a default value nor is
made mandatory by use of the mandatory statement. Consider the following
object definition which is defined with neither a default value nor a
mandatory statement.</p>
<pre><code>  leaf error-threshold {
    type uint32;
    description
      &quot;The number of errors, when exceeded, will raise an alarm.&quot;;
  }</code></pre>
<p>Since this node is optional, it is acceptable to announce the object
as not supported.</p>
<pre><code>  deviation error-threshold {
    description
      &quot;The optional error threshold is not supported.&quot;;
    deviate not-supported;
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:dev-2-add---number-of-elements">DEV-2: add - Number of
Elements</h3>
<p>The deviate <em>add</em> argument MAY be used to add a restriction on
the number of elements in a <em>leaf-list</em> or <em>list</em>.</p>
<p>Adding a restriction on the number of elements is accomplished by
adding a <em>min-elements</em> and/or <em>max-elements</em> statement
where they were not previously defined. For example, you have a
<em>leaf-list</em> which does not contain either a <em>min-elements</em>
or <em>max-elements</em> statement and thus does not impose any limit on
the number of elements contained in the <em>leaf-list</em>.</p>
<pre><code>  leaf-list port {
    type string;
    description
      &quot;A port associated with a port group.&quot;;
  }</code></pre>
<p>A particular implementation may want to limit the number to 4. In
this case, a deviation can be used to add the <em>max-elements</em>
statement to the definition.</p>
<pre><code>  deviation port {
    description
      &quot;Limit the maximum number of ports to 4.&quot;;
    deviate add {
      max-elements 4;
    }
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:dev-3-add---must-constraints">DEV-3: add - ‘must’
Constraints</h3>
<p>The deviate <em>add</em> argument MAY be used to add a constraint on
valid data by the use of the must statement.</p>
<p>This constraint may be necessary depending on actual hardware in use.
For example, the number of physical interfaces of a particular type will
be limited by the number present on the hardware. For this, we could add
a constraint on the interface list in <em>ietf-interfaces <span
class="citation" data-cites="RFC7223"><a href="#ref-RFC7223"
role="doc-biblioref">[3]</a></span></em> to explicitly enforce how many
interfaces are present.</p>
<pre><code>  deviation &quot;/if:interfaces&quot; {
    description
      &quot;There are always 8 G.fast interfaces present.&quot;;
    deviate add {
      must &quot;count(interface[type=&#39;ianaift:gfast&#39;])=8&quot;;
    }
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:dev-4-replace---data-type">DEV-4: replace - Data Type</h3>
<p>The deviate <em>replace</em> argument MAY be used to replace a type
so long as the replacement type uses the same underlying built-in YANG
type and the value represented does not fall outside the range of the
definition of the type being replaced.</p>
<p>An integer type can be replaced as long as the replacement uses the
same built-in YANG type, e.g., uint32 or int64, and that the range
specified falls within the range of the original definition. If the
original does not define a range, then any range can be specified in the
deviation. If the original defines a range of values, the range of the
deviation must fall within this defined range. In other words the new
minimum value must be greater than or equal to the original, and the new
maximum value must be less than or equal to the original. For example,
the following defines an object of type uint32 with a range of values 1
to 999999.</p>
<pre><code>  leaf error-threshold {
    type uint32 {
      range &quot;1..999999&quot;;
    }
    description
      &quot;The number of errors, when exceeded, will raise an alarm.&quot;;
  }</code></pre>
<p>A particular implementation may only allow a range from 10 to 99999.
Since this range is a subset of the original range definition, we can
replace the uint32 type with another uint32 type that has the new
range.</p>
<pre><code>  deviation error-threshold {
    description
      &quot;The supported range of values is 10 to 99999.&quot;;
    deviate replace {
      type uint32 {
        range &quot;10..99999&quot;;
      }
    }
  }</code></pre>
<p>A string type can be replaced as long as its replacement is also a
string and any specified length or pattern is valid per the original
definition. If no length is specified in the original, this means that
any length restriction may be added. If a length is specified, it means
the new length can be specified so long as the new minimum value is
greater than or equal to the original, and the new maximum value is less
than or equal to the original. If no pattern is specified in the
original, any pattern may be added. If a pattern is specified in the
original, the new pattern must be equal to or a subset of the original.
For example, the following object is defined as a string with no length
restriction and a pattern which allows for any alphanumeric
character.</p>
<pre><code>  leaf name {
    type string {
      pattern &#39;[A-Za-z0-9]*&#39;;
    }
    description
      &quot;The name of a thing.&quot;;
  }</code></pre>
<p>A particular implementation may require that the maximum length of
the string be 255 characters and that upper case characters are not
supported. This is a valid deviation since the new string is shorter
than the original and the character set is a subset of the original
pattern.</p>
<pre><code>  deviation name {
    description
      &quot;The name may be no more than 255 lowercase letters and/or
       numbers.&quot;;
    deviate replace {
      type string {
        length &quot;0..255&quot;;
        pattern &#39;[a-z0-9]*&#39;;
      }
    }
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:dev-5-replace---number-of-elements">DEV-5: replace - Number of
Elements</h3>
<p>The deviate <em>replace</em> argument MAY be used to further restrict
the number of elements in a <em>list</em> or <em>leaf-list</em>.</p>
<p>For <em>min-elements</em>, the new value must be greater than or
equal to the original. For <em>max-elements</em>, the new value must be
less than or equal to the original. Suppose we have the following
definition of a <em>leaf-list</em> of ports which must have at least 1
and no more 10 entries.</p>
<pre><code>  leaf-list port {
    min-elements 1;
    max-elements 10;
    type string;
    description
      &quot;A port associated with a port group.&quot;;
  }</code></pre>
<p>Now we have an implementation which must have at least 2 ports but no
more than 4 ports configured. Since this falls within the constraints of
the original definition, it is a valid deviation.</p>
<pre><code>  deviation port {
    description
      &quot;Specify that at least 2 but no more than 4 ports can be
       configured.&quot;;
    deviate replace {
      min-elements 2;
      max-elements 4;
    }
  }</code></pre>
<h3 class="auto-hoverlink" data-info="header"
id="sec:dev-6-delete">DEV-6: delete</h3>
<p>The deviate <em>delete</em> argument MUST NOT be used in a
deviation.</p>
<p>By deleting a property, the value space of an object is typically
being expanded which means the value accepted by the deviated definition
is not valid per the original definition and thus, should never be
allowed.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:dev-7-add---mandatory-leaf">DEV-7: add - Mandatory leaf</h3>
<p>The deviate ‘add’ argument MAY be used to make an optional leaf
mandatory.</p>
<p>A leaf being defined without a ‘mandatory true’ statement is by
definition optional. Making the leaf mandatory is accomplished by adding
a ‘mandatory true’ statement where this was previously not defined. For
example, take a leafref to an interface:</p>
<pre><code>  leaf interface {
    type if:interface-ref;
    description
      &quot;References the lower-layer interface.&quot;;
  }</code></pre>
<p>This leaf can be made mandatory by the following deviation</p>
<pre><code>  deviation &quot;interface&quot; {
    deviate add {
      mandatory true;
    }
  }</code></pre>
<p>Note that this is similar to the deviation of introducing a
min-elements to a list or leaf-list that also makes one or more elements
in the list mandatory.</p>
<h2 class="new-page auto-hoverlink" data-info="header"
id="sec:bbf-guidelines-for-units-statements">BBF Guidelines for ‘units’
Statements</h2>
<p>The following guidelines apply to the specification of ‘units’
statements within Broadband Forum YANG modules. These guidelines are
based on the following reference documentation as well as practical
usage within Broadband Forum YANG modules:</p>
<ol type="1">
<li>IEEE Std. 260.1</li>
<li><a href="https://www.nist.gov/pml/special-publication-811">NIST
Special Publication 811</a></li>
</ol>
<h3 class="auto-hoverlink" data-info="header"
id="sec:terminology-1">Terminology</h3>
<p>The following terminology is used throughout these guidelines.</p>
<table>
<colgroup>
<col style="width: 38%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr>
<th>Term</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>family</td>
<td>refers to a group of ‘units’ statements representing a common
functional area including, but not limited to, time, length,
temperature, electricity, speed and memory storage</td>
</tr>
<tr>
<td>unit</td>
<td>the full text name of a unit, e.g., seconds, milliwatts</td>
</tr>
<tr>
<td>symbol</td>
<td>the abbreviated form of expressing the units, e.g., mW, dBm</td>
</tr>
</tbody>
</table>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-1-unit-vs-symbol">UNITS-1: Unit vs Symbol</h3>
<p>All ‘units’ statements SHALL use either the “unit” or the “symbol” as
defined in IEEE Std. 260.1 including the proper use of uppercase and
lowercase. The chosen method used should be applied consistently within
a family of units. In general, the “unit” should be used with the
“symbol” being used on a case-by-case basis. For example, use “seconds”
or some derivation (see UNITS-3) for time but “dBm” for power level as
the term “decibel-milliwatts” is not commonly used.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-2-plural-form">UNITS-2: Plural Form</h3>
<p>Where applicable, the full “unit” text SHALL be written in plural
form, e.g., seconds vs. second. This differs from the definitions in
IEEE Std. 260.1 but aligns with NIST 811 as well as the current practice
in industry standard YANG data models.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-3-base-vs-derived">UNITS-3: Base vs Derived</h3>
<p>The base unit for a given family may not always be the one that
provides the best granularity. For example, it would not be common to
express 20 nanoseconds as 0.00000002 seconds as doing so would make
readability difficult. In those situations, a “unit” derived from the
base SHOULD be used where the derived unit is a multiple of
10<sup>3</sup> from the base, e.g., seconds, milliseconds,
nanoseconds.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-4-memory">UNITS-4: Memory</h3>
<p>For ‘units’ statements related to memory that need derived units for
reasons similar to the usage described in UNITS-3, the derived unit
SHALL be a multiple of 2<sup>10</sup>, e.g., bytes, kibibytes,
mebibytes.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-5-unit-combinations">UNITS-5: Unit Combinations</h3>
<p>‘units’ statements requiring a combination of units SHALL fully spell
out the relationship between the units, e.g., “bits per second” rather
than “bits/second”. Regarding the applicability of UNITS-2, only the
first “unit” will be plural in a combination, e.g., “bits” in “bits per
second”.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-6-equivalent-units">UNITS-6: Equivalent Units</h3>
<p>If more than one “unit” definition is applicable for a given type of
data, then one should be chosen and applied in a consistent manner. For
example, use “bytes” instead of “octets”.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-7-use-of-decimal64">UNITS-7: Use of decimal64</h3>
<p>For a given data node, a base or “unit” along with the decimal64 type
SHOULD be used rather than a derived “unit” along with an integer
type.</p>
<p>For example, use</p>
<pre><code>  leaf rx-power {
    type decimal64 {
      fraction-digits 4;
    }
    units &quot;watts&quot;;
    description
      &quot;The receive power reported in watts.&quot;;
  }</code></pre>
<p>rather than</p>
<pre><code>  leaf rx-power {
    type uint32;
    units &quot;0.1 milliwatts&quot;;
    description
      &quot;The receive power reported in tenths of a milliwatt.&quot;;
  }</code></pre>
<p>When applying this guideline, along with UNITS-3 and UNITS-4, to
already published data models, strict adherence may not always be
possible due to backward compatiblity issues. In those cases, express
the ‘units’ relative to the closest base or a derived unit, e.g., “0.1
seconds” or “1/256 milliseconds”.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-8-exceptions">UNITS-8: Exceptions</h3>
<p>At times, there may be a need to preserve the relationship with an
underlying standard that would result in a non-adherence to these
guidelines. Such instances should be carefuly evaluated on a
case-by-case basis to determine if an exception should be made. For
example, in TR-385, several data nodes exist that represent data in “125
microsecond PHY frames”. Application of UNITS-1 would result in ‘units’
statements of either “125 microseconds” or “0.125 milliseconds”.
However, this would result in a disassociation with the underlying
standard where the measurement in “PHY frames” is as equally important
as is the representation of time.</p>
<h3 class="auto-hoverlink" data-info="header"
id="sec:units-9-frames-vs-packets-vs-messages">UNITS-9: Frames vs
Packets vs Messages</h3>
<p>The use of “frames”, “packets” and “messages” SHOULD be applied in a
consistent manner based on the following guidelines:</p>
<ul>
<li>use “frames” when referring to layer 2, e.g., Ethernet frames,
VLANs, etc.</li>
<li>use “packets” when referring to layer 3, e.g., IP packets</li>
<li>use “messages” when referring to protocols, e.g., DHCP messages,
IGMP messages, etc.</li>
</ul>
</div>
</body>
</html>
